<% if @results.cohorts.size > 0 %>
  <table class="table table-bordered table-striped table-cohort">
    <thead>
      <tr>
        <th>Cohort</th>
        <th>Users</th>
        <% @results.cohorts.last.interval_buckets.each do |bucket| %>
          <th><%= bucket.title %></th>
        <% end %>
      </tr>
    </thead>

    <tbody>
      <% @results.cohorts.each do |cohort| %>
        <tr>
          <td><%= cohort.title %></td>
          <td><%= cohort.total %></td>
          <% cohort.interval_buckets.each do |bucket| %>
            <%= formatted_interval_bucket(bucket, cohort.total) %>
          <% end %>
          <% (@results.max_interval_buckets - cohort.interval_buckets.size).times do %>
            <td></td>
          <% end %>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  No cohorts to display :(
<% end %>